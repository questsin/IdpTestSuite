# Example environment configuration for live IdP testing
# Copy to .env and adjust values (DO NOT COMMIT real secrets)

# Mode Flags
LIVE_IDP=0               # Set to 1 to enable live (non-mocked) tests
PROVIDER=mock            # mock | auth0 | github (add others as needed)

# Generic OIDC / OAuth Client Settings
OIDC_CLIENT_ID=your-client-id
OIDC_CLIENT_SECRET=your-client-secret
OIDC_REDIRECT_URI=https://client.example.com/callback
OIDC_SCOPES=openid profile email
OIDC_AUDIENCE=           # (Optional) e.g. https://your-api-identifier for Auth0 APIs

# Issuer / Discovery (OIDC providers)
OIDC_ISSUER=             # e.g. https://your-tenant.us.auth0.com

# Optional explicit endpoint overrides (auto-filled via discovery if OIDC_ISSUER present)
OIDC_AUTHORIZATION_ENDPOINT=
OIDC_TOKEN_ENDPOINT=
OIDC_JWKS_URI=
OIDC_USERINFO_ENDPOINT=
OIDC_INTROSPECTION_ENDPOINT=
OIDC_END_SESSION_ENDPOINT=
OIDC_REGISTRATION_ENDPOINT=

# GitHub Specific (OAuth 2.0 only, no ID token)
# PROVIDER=github
# OIDC_AUTHORIZATION_ENDPOINT=https://github.com/login/oauth/authorize
# OIDC_TOKEN_ENDPOINT=https://github.com/login/oauth/access_token
# GITHUB scopes example:
# OIDC_SCOPES=read:user user:email

# Notes:
# - For Auth0 refresh tokens include offline_access in OIDC_SCOPES.
# - Dynamic registration often disabled on managed IdPs; related tests may be skipped.
# - When LIVE_IDP=1 tests expecting mocked error cases may fail; use grep or tagging to run only applicable tests.
